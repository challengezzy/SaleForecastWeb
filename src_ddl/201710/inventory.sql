IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('INV_STOCK_DATA')
            AND   NAME  = 'IDX_INSTOCKDATA_EXPPERIOD'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX INV_STOCK_DATA.IDX_INSTOCKDATA_EXPPERIOD
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('INV_STOCK_DATA')
            AND   NAME  = 'IDX_INSTOCKDATA_PROID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX INV_STOCK_DATA.IDX_INSTOCKDATA_PROID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('INV_STOCK_DATA')
            AND   NAME  = 'IDX_INSTOCKDATA_ORGID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX INV_STOCK_DATA.IDX_INSTOCKDATA_ORGID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('INV_STOCK_DATA')
            AND   NAME  = 'IDX_STOCKDATA_PERIOD'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX INV_STOCK_DATA.IDX_STOCKDATA_PERIOD
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('INV_STOCK_DATA')
            AND   NAME  = 'UIDX_STOCKDATA_UKEY'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX INV_STOCK_DATA.UIDX_STOCKDATA_UKEY
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('INV_STOCK_DATA')
            AND   TYPE = 'U')
   DROP TABLE INV_STOCK_DATA
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_POPR_DATA')
            AND   NAME  = 'IDX_INPOPRDATA_STATUS'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_POPR_DATA.IDX_INPOPRDATA_STATUS
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_POPR_DATA')
            AND   NAME  = 'IDX_INPOPRDATA_PROID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_POPR_DATA.IDX_INPOPRDATA_PROID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_POPR_DATA')
            AND   NAME  = 'IDX_INPOPRDATA_ORGID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_POPR_DATA.IDX_INPOPRDATA_ORGID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_POPR_DATA')
            AND   NAME  = 'IDX_INPOPRDATA_ORDERTYPE'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_POPR_DATA.IDX_INPOPRDATA_ORDERTYPE
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_POPR_DATA')
            AND   NAME  = 'UIDX_INPOPRDATA_UKEY'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_POPR_DATA.UIDX_INPOPRDATA_UKEY
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_POPR_DATA')
            AND   NAME  = 'IDX_INPOPRDATA_PERIOD'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_POPR_DATA.IDX_INPOPRDATA_PERIOD
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('IN_POPR_DATA')
            AND   TYPE = 'U')
   DROP TABLE IN_POPR_DATA
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_SAFESTOCK')
            AND   NAME  = 'IDX_INPOPRDATA_PROID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_SAFESTOCK.IDX_INPOPRDATA_PROID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_SAFESTOCK')
            AND   NAME  = 'IDX_INPOPRDATA_ORGID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_SAFESTOCK.IDX_INPOPRDATA_ORGID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_SAFESTOCK')
            AND   NAME  = 'UIDX_INPOPRDATA_UKEY'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_SAFESTOCK.UIDX_INPOPRDATA_UKEY
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_SAFESTOCK')
            AND   NAME  = 'IDX_INPOPRDATA_PERIOD'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_SAFESTOCK.IDX_INPOPRDATA_PERIOD
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('IN_SAFESTOCK')
            AND   TYPE = 'U')
   DROP TABLE IN_SAFESTOCK
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_STOCK_DATA')
            AND   NAME  = 'IDX_INSTOCKDATA_BATCHNO'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_STOCK_DATA.IDX_INSTOCKDATA_BATCHNO
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_STOCK_DATA')
            AND   NAME  = 'IDX_INSTOCKDATA_PROID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_STOCK_DATA.IDX_INSTOCKDATA_PROID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_STOCK_DATA')
            AND   NAME  = 'IDX_INSTOCKDATA_ORGID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_STOCK_DATA.IDX_INSTOCKDATA_ORGID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_STOCK_DATA')
            AND   NAME  = 'IDX_INSTOCKDATA_PERIOD'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_STOCK_DATA.IDX_INSTOCKDATA_PERIOD
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('IN_STOCK_DATA')
            AND   NAME  = 'UIDX_INSTOCKDATA_UKEY'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX IN_STOCK_DATA.UIDX_INSTOCKDATA_UKEY
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('IN_STOCK_DATA')
            AND   TYPE = 'U')
   DROP TABLE IN_STOCK_DATA
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('MTD_DATA')
            AND   NAME  = 'IDX_MTDDATA_PROID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX MTD_DATA.IDX_MTDDATA_PROID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('MTD_DATA')
            AND   NAME  = 'IDX_MTDDATA_ORGID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX MTD_DATA.IDX_MTDDATA_ORGID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('MTD_DATA')
            AND   NAME  = 'IDX_MTDDATA_PERIOD'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX MTD_DATA.IDX_MTDDATA_PERIOD
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('MTD_DATA')
            AND   NAME  = 'UIDX_MTDDATA_UKEY'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX MTD_DATA.UIDX_MTDDATA_UKEY
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('MTD_DATA')
            AND   TYPE = 'U')
   DROP TABLE MTD_DATA
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('POPR_DATA')
            AND   NAME  = 'IDX_POPRDATA_RPERIOD'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX POPR_DATA.IDX_POPRDATA_RPERIOD
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('POPR_DATA')
            AND   NAME  = 'IDX_POPRDATA_PROID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX POPR_DATA.IDX_POPRDATA_PROID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('POPR_DATA')
            AND   NAME  = 'IDX_POPRDATA_ORGID'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX POPR_DATA.IDX_POPRDATA_ORGID
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('POPR_DATA')
            AND   NAME  = 'IDX_POPRDATA_ORDERTYPE'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX POPR_DATA.IDX_POPRDATA_ORDERTYPE
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('POPR_DATA')
            AND   NAME  = 'IDX_POPRDATA_PERIOD'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX POPR_DATA.IDX_POPRDATA_PERIOD
go

IF EXISTS (SELECT 1
            FROM  SYSINDEXES
           WHERE  ID    = OBJECT_ID('POPR_DATA')
            AND   NAME  = 'UIDX_POPRDATA_UKEY'
            AND   INDID > 0
            AND   INDID < 255)
   DROP INDEX POPR_DATA.UIDX_POPRDATA_UKEY
go

IF EXISTS (SELECT 1
            FROM  SYSOBJECTS
           WHERE  ID = OBJECT_ID('POPR_DATA')
            AND   TYPE = 'U')
   DROP TABLE POPR_DATA
go

/*==============================================================*/
/* Table: INV_STOCK_DATA                                        */
/*==============================================================*/
CREATE TABLE INV_STOCK_DATA (
   ID                   NUMERIC(18)          IDENTITY,
   VERSION              NUMERIC(10)          NOT NULL DEFAULT 0,
   PERIOD               NUMERIC(6)           NOT NULL,
   ORGANIZATIONID       NUMERIC(18)          NOT NULL,
   PRODUCTID            NUMERIC(18)          NOT NULL,
   EXPIRE_PERIOD        NUMERIC(6)           NULL,
   OFFSHELF_PERIOD      NUMERIC(6)           NULL,
   QUANTITY             NUMERIC(18,2)        NOT NULL,
   BATCH_NUM            NUMERIC(6)           NOT NULL,
   COMMENTS             VARCHAR(255)         NULL,
   CREATETIME           DATETIME             NULL DEFAULT GETDATE(),
   UPDATETIME           DATETIME             NULL DEFAULT GETDATE(),
   CONSTRAINT PK_INV_STOCK_DATA PRIMARY KEY (ID)
)
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '导入的库存数据',
   'user', 'DBO', 'table', 'INV_STOCK_DATA'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '期间',
   'schema', 'DBO', 'table', 'INV_STOCK_DATA', 'column', 'PERIOD'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细组织ID',
   'schema', 'DBO', 'table', 'INV_STOCK_DATA', 'column', 'ORGANIZATIONID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细产品ID',
   'schema', 'DBO', 'table', 'INV_STOCK_DATA', 'column', 'PRODUCTID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '到期期间',
   'schema', 'DBO', 'table', 'INV_STOCK_DATA', 'column', 'EXPIRE_PERIOD'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '下架期间',
   'schema', 'DBO', 'table', 'INV_STOCK_DATA', 'column', 'OFFSHELF_PERIOD'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '数量',
   'schema', 'DBO', 'table', 'INV_STOCK_DATA', 'column', 'QUANTITY'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '批次数量',
   'schema', 'DBO', 'table', 'INV_STOCK_DATA', 'column', 'BATCH_NUM'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '备注',
   'schema', 'DBO', 'table', 'INV_STOCK_DATA', 'column', 'COMMENTS'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '产生时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'INV_STOCK_DATA', 'column', 'CREATETIME'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '最近更新时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'INV_STOCK_DATA', 'column', 'UPDATETIME'
go

/*==============================================================*/
/* Index: UIDX_STOCKDATA_UKEY                                   */
/*==============================================================*/
CREATE UNIQUE INDEX UIDX_STOCKDATA_UKEY ON INV_STOCK_DATA (
PERIOD ASC,
ORGANIZATIONID ASC,
PRODUCTID ASC,
EXPIRE_PERIOD ASC
)
go

/*==============================================================*/
/* Index: IDX_STOCKDATA_PERIOD                                  */
/*==============================================================*/
CREATE INDEX IDX_STOCKDATA_PERIOD ON INV_STOCK_DATA (
PERIOD ASC
)
go

/*==============================================================*/
/* Index: IDX_INSTOCKDATA_ORGID                                 */
/*==============================================================*/
CREATE INDEX IDX_INSTOCKDATA_ORGID ON INV_STOCK_DATA (
ORGANIZATIONID ASC
)
go

/*==============================================================*/
/* Index: IDX_INSTOCKDATA_PROID                                 */
/*==============================================================*/
CREATE INDEX IDX_INSTOCKDATA_PROID ON INV_STOCK_DATA (
PRODUCTID ASC
)
go

/*==============================================================*/
/* Index: IDX_INSTOCKDATA_EXPPERIOD                             */
/*==============================================================*/
CREATE INDEX IDX_INSTOCKDATA_EXPPERIOD ON INV_STOCK_DATA (
EXPIRE_PERIOD ASC
)
go

/*==============================================================*/
/* Table: IN_POPR_DATA                                          */
/*==============================================================*/
CREATE TABLE IN_POPR_DATA (
   ID                   NUMERIC(18)          IDENTITY,
   VERSION              NUMERIC(10)          NOT NULL DEFAULT 0,
   PERIOD               NUMERIC(6)           NOT NULL,
   ORDERTYPE            VARCHAR(16)          NULL,
   ORGANIZATIONID       NUMERIC(18)          NOT NULL,
   PRODUCTID            NUMERIC(18)          NOT NULL,
   BATCH_NO             VARCHAR(255)         NULL,
   RECEIVING_DATE       VARCHAR(8)           NULL,
   QUANTITY             NUMERIC(18,2)        NOT NULL,
   STATUS               NUMERIC(2)           NULL,
   COMMENTS             VARCHAR(255)         NULL,
   CREATETIME           DATETIME             NULL DEFAULT GETDATE(),
   UPDATETIME           DATETIME             NULL DEFAULT GETDATE(),
   CONSTRAINT PK_IN_POPR_DATA PRIMARY KEY (ID)
)
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '导入的采购订单数据',
   'user', 'DBO', 'table', 'IN_POPR_DATA'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '期间',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'PERIOD'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '订单类型PO/PR',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'ORDERTYPE'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细组织ID',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'ORGANIZATIONID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细产品ID',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'PRODUCTID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '批次号/订单号',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'BATCH_NO'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '计划收货日期',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'RECEIVING_DATE'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '数量',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'QUANTITY'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '状态1-有效 0-失效',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'STATUS'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '备注',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'COMMENTS'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '产生时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'CREATETIME'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '最近更新时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'IN_POPR_DATA', 'column', 'UPDATETIME'
go

/*==============================================================*/
/* Index: IDX_INPOPRDATA_PERIOD                                 */
/*==============================================================*/
CREATE INDEX IDX_INPOPRDATA_PERIOD ON IN_POPR_DATA (
PERIOD ASC
)
go

/*==============================================================*/
/* Index: UIDX_INPOPRDATA_UKEY                                  */
/*==============================================================*/
CREATE UNIQUE INDEX UIDX_INPOPRDATA_UKEY ON IN_POPR_DATA (
PERIOD ASC,
ORDERTYPE ASC,
ORGANIZATIONID ASC,
PRODUCTID ASC,
BATCH_NO ASC
)
go

/*==============================================================*/
/* Index: IDX_INPOPRDATA_ORDERTYPE                              */
/*==============================================================*/
CREATE INDEX IDX_INPOPRDATA_ORDERTYPE ON IN_POPR_DATA (
ORDERTYPE ASC
)
go

/*==============================================================*/
/* Index: IDX_INPOPRDATA_ORGID                                  */
/*==============================================================*/
CREATE INDEX IDX_INPOPRDATA_ORGID ON IN_POPR_DATA (
ORGANIZATIONID ASC
)
go

/*==============================================================*/
/* Index: IDX_INPOPRDATA_PROID                                  */
/*==============================================================*/
CREATE INDEX IDX_INPOPRDATA_PROID ON IN_POPR_DATA (
PRODUCTID ASC
)
go

/*==============================================================*/
/* Index: IDX_INPOPRDATA_STATUS                                 */
/*==============================================================*/
CREATE INDEX IDX_INPOPRDATA_STATUS ON IN_POPR_DATA (
STATUS ASC
)
go

/*==============================================================*/
/* Table: IN_SAFESTOCK                                          */
/*==============================================================*/
CREATE TABLE IN_SAFESTOCK (
   ID                   NUMERIC(18)          IDENTITY,
   VERSION              NUMERIC(10)          NOT NULL DEFAULT 0,
   PERIOD               NUMERIC(6)           NOT NULL,
   ORGANIZATIONID       NUMERIC(18)          NOT NULL,
   PRODUCTID            NUMERIC(18)          NOT NULL,
   QUANTITY             NUMERIC(18,2)        NOT NULL,
   COMMENTS             VARCHAR(255)         NULL,
   CREATETIME           DATETIME             NULL DEFAULT GETDATE(),
   UPDATETIME           DATETIME             NULL DEFAULT GETDATE(),
   CONSTRAINT PK_IN_SAFESTOCK PRIMARY KEY (ID)
)
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '安全库存',
   'user', 'DBO', 'table', 'IN_SAFESTOCK'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '期间',
   'schema', 'DBO', 'table', 'IN_SAFESTOCK', 'column', 'PERIOD'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细组织ID',
   'schema', 'DBO', 'table', 'IN_SAFESTOCK', 'column', 'ORGANIZATIONID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细产品ID',
   'schema', 'DBO', 'table', 'IN_SAFESTOCK', 'column', 'PRODUCTID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '数量',
   'schema', 'DBO', 'table', 'IN_SAFESTOCK', 'column', 'QUANTITY'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '备注',
   'schema', 'DBO', 'table', 'IN_SAFESTOCK', 'column', 'COMMENTS'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '产生时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'IN_SAFESTOCK', 'column', 'CREATETIME'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '最近更新时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'IN_SAFESTOCK', 'column', 'UPDATETIME'
go

/*==============================================================*/
/* Index: IDX_INPOPRDATA_PERIOD                                 */
/*==============================================================*/
CREATE INDEX IDX_INPOPRDATA_PERIOD ON IN_SAFESTOCK (
PERIOD ASC
)
go

/*==============================================================*/
/* Index: UIDX_INPOPRDATA_UKEY                                  */
/*==============================================================*/
CREATE UNIQUE INDEX UIDX_INPOPRDATA_UKEY ON IN_SAFESTOCK (
PERIOD ASC,
ORGANIZATIONID ASC,
PRODUCTID ASC
)
go

/*==============================================================*/
/* Index: IDX_INPOPRDATA_ORGID                                  */
/*==============================================================*/
CREATE INDEX IDX_INPOPRDATA_ORGID ON IN_SAFESTOCK (
ORGANIZATIONID ASC
)
go

/*==============================================================*/
/* Index: IDX_INPOPRDATA_PROID                                  */
/*==============================================================*/
CREATE INDEX IDX_INPOPRDATA_PROID ON IN_SAFESTOCK (
PRODUCTID ASC
)
go

/*==============================================================*/
/* Table: IN_STOCK_DATA                                         */
/*==============================================================*/
CREATE TABLE IN_STOCK_DATA (
   ID                   NUMERIC(18)          IDENTITY,
   VERSION              NUMERIC(10)          NOT NULL DEFAULT 0,
   PERIOD               NUMERIC(6)           NOT NULL,
   ORGANIZATIONID       NUMERIC(18)          NOT NULL,
   PRODUCTID            NUMERIC(18)          NOT NULL,
   BATCH_NO             VARCHAR(255)         NULL,
   EXPIRE_DATE          VARCHAR(8)           NULL,
   QUANTITY             NUMERIC(18,2)        NOT NULL,
   COMMENTS             VARCHAR(255)         NULL,
   CREATETIME           DATETIME             NULL DEFAULT GETDATE(),
   UPDATETIME           DATETIME             NULL DEFAULT GETDATE(),
   CONSTRAINT PK_IN_STOCK_DATA PRIMARY KEY (ID)
)
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '导入的库存数据',
   'user', 'DBO', 'table', 'IN_STOCK_DATA'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '期间',
   'schema', 'DBO', 'table', 'IN_STOCK_DATA', 'column', 'PERIOD'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细组织ID',
   'schema', 'DBO', 'table', 'IN_STOCK_DATA', 'column', 'ORGANIZATIONID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细产品ID',
   'schema', 'DBO', 'table', 'IN_STOCK_DATA', 'column', 'PRODUCTID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '批次号',
   'schema', 'DBO', 'table', 'IN_STOCK_DATA', 'column', 'BATCH_NO'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '到期日期',
   'schema', 'DBO', 'table', 'IN_STOCK_DATA', 'column', 'EXPIRE_DATE'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '数量',
   'schema', 'DBO', 'table', 'IN_STOCK_DATA', 'column', 'QUANTITY'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '备注',
   'schema', 'DBO', 'table', 'IN_STOCK_DATA', 'column', 'COMMENTS'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '产生时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'IN_STOCK_DATA', 'column', 'CREATETIME'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '最近更新时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'IN_STOCK_DATA', 'column', 'UPDATETIME'
go

/*==============================================================*/
/* Index: UIDX_INSTOCKDATA_UKEY                                 */
/*==============================================================*/
CREATE UNIQUE INDEX UIDX_INSTOCKDATA_UKEY ON IN_STOCK_DATA (
PERIOD ASC,
ORGANIZATIONID ASC,
PRODUCTID ASC,
BATCH_NO ASC
)
go

/*==============================================================*/
/* Index: IDX_INSTOCKDATA_PERIOD                                */
/*==============================================================*/
CREATE INDEX IDX_INSTOCKDATA_PERIOD ON IN_STOCK_DATA (
PERIOD ASC
)
go

/*==============================================================*/
/* Index: IDX_INSTOCKDATA_ORGID                                 */
/*==============================================================*/
CREATE INDEX IDX_INSTOCKDATA_ORGID ON IN_STOCK_DATA (
ORGANIZATIONID ASC
)
go

/*==============================================================*/
/* Index: IDX_INSTOCKDATA_PROID                                 */
/*==============================================================*/
CREATE INDEX IDX_INSTOCKDATA_PROID ON IN_STOCK_DATA (
PRODUCTID ASC
)
go

/*==============================================================*/
/* Index: IDX_INSTOCKDATA_BATCHNO                               */
/*==============================================================*/
CREATE INDEX IDX_INSTOCKDATA_BATCHNO ON IN_STOCK_DATA (
BATCH_NO ASC
)
go

/*==============================================================*/
/* Table: MTD_DATA                                              */
/*==============================================================*/
CREATE TABLE MTD_DATA (
   ID                   NUMERIC(18)          IDENTITY,
   VERSION              NUMERIC(10)          NOT NULL DEFAULT 0,
   PERIOD               NUMERIC(6)           NOT NULL,
   ORGANIZATIONID       NUMERIC(18)          NOT NULL,
   PRODUCTID            NUMERIC(18)          NOT NULL,
   QUANTITY             NUMERIC(18,2)        NOT NULL,
   COMMENTS             VARCHAR(255)         NULL,
   CREATETIME           DATETIME             NULL DEFAULT GETDATE(),
   UPDATETIME           DATETIME             NULL DEFAULT GETDATE(),
   CONSTRAINT PK_MTD_DATA PRIMARY KEY (ID)
)
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '当月收货数据',
   'user', 'DBO', 'table', 'MTD_DATA'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '期间',
   'schema', 'DBO', 'table', 'MTD_DATA', 'column', 'PERIOD'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细组织ID',
   'schema', 'DBO', 'table', 'MTD_DATA', 'column', 'ORGANIZATIONID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细产品ID',
   'schema', 'DBO', 'table', 'MTD_DATA', 'column', 'PRODUCTID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '数量',
   'schema', 'DBO', 'table', 'MTD_DATA', 'column', 'QUANTITY'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '备注',
   'schema', 'DBO', 'table', 'MTD_DATA', 'column', 'COMMENTS'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '产生时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'MTD_DATA', 'column', 'CREATETIME'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '最近更新时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'MTD_DATA', 'column', 'UPDATETIME'
go

/*==============================================================*/
/* Index: UIDX_MTDDATA_UKEY                                     */
/*==============================================================*/
CREATE UNIQUE INDEX UIDX_MTDDATA_UKEY ON MTD_DATA (
PERIOD ASC,
ORGANIZATIONID ASC,
PRODUCTID ASC
)
go

/*==============================================================*/
/* Index: IDX_MTDDATA_PERIOD                                    */
/*==============================================================*/
CREATE INDEX IDX_MTDDATA_PERIOD ON MTD_DATA (
PERIOD ASC
)
go

/*==============================================================*/
/* Index: IDX_MTDDATA_ORGID                                     */
/*==============================================================*/
CREATE INDEX IDX_MTDDATA_ORGID ON MTD_DATA (
ORGANIZATIONID ASC
)
go

/*==============================================================*/
/* Index: IDX_MTDDATA_PROID                                     */
/*==============================================================*/
CREATE INDEX IDX_MTDDATA_PROID ON MTD_DATA (
PRODUCTID ASC
)
go

/*==============================================================*/
/* Table: POPR_DATA                                             */
/*==============================================================*/
CREATE TABLE POPR_DATA (
   ID                   NUMERIC(18)          IDENTITY,
   VERSION              NUMERIC(10)          NOT NULL DEFAULT 0,
   PERIOD               NUMERIC(6)           NOT NULL,
   ORDERTYPE            VARCHAR(16)          NULL,
   ORGANIZATIONID       NUMERIC(18)          NOT NULL,
   PRODUCTID            NUMERIC(18)          NOT NULL,
   RECEIVING_PERIOD     NUMERIC(6)           NULL,
   OFFSHELF_PERIOD      NUMERIC(6)           NULL,
   QUANTITY             NUMERIC(18,2)        NOT NULL,
   STATUS               NUMERIC(6)           NULL,
   BATCH_NUM            NUMERIC(6)           NOT NULL,
   COMMENTS             VARCHAR(255)         NULL,
   CREATETIME           DATETIME             NULL DEFAULT GETDATE(),
   UPDATETIME           DATETIME             NULL DEFAULT GETDATE(),
   CONSTRAINT PK_POPR_DATA PRIMARY KEY (ID)
)
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '采购订单数据',
   'user', 'DBO', 'table', 'POPR_DATA'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '期间',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'PERIOD'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '订单类型PO/PR',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'ORDERTYPE'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细组织ID',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'ORGANIZATIONID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '明细产品ID',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'PRODUCTID'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '计划收货日期',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'RECEIVING_PERIOD'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '下架期间',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'OFFSHELF_PERIOD'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '数量',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'QUANTITY'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '状态1-有效 0-失效',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'STATUS'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '批次数量',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'BATCH_NUM'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '备注',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'COMMENTS'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '产生时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'CREATETIME'
go

EXECUTE SP_ADDEXTENDEDPROPERTY 'MS_Description', 
   '最近更新时间，记录数据产生时间',
   'schema', 'DBO', 'table', 'POPR_DATA', 'column', 'UPDATETIME'
go

/*==============================================================*/
/* Index: UIDX_POPRDATA_UKEY                                    */
/*==============================================================*/
CREATE UNIQUE INDEX UIDX_POPRDATA_UKEY ON POPR_DATA (
PERIOD ASC,
ORDERTYPE ASC,
ORGANIZATIONID ASC,
PRODUCTID ASC,
RECEIVING_PERIOD ASC
)
go

/*==============================================================*/
/* Index: IDX_POPRDATA_PERIOD                                   */
/*==============================================================*/
CREATE INDEX IDX_POPRDATA_PERIOD ON POPR_DATA (
PERIOD ASC
)
go

/*==============================================================*/
/* Index: IDX_POPRDATA_ORDERTYPE                                */
/*==============================================================*/
CREATE INDEX IDX_POPRDATA_ORDERTYPE ON POPR_DATA (
ORDERTYPE ASC
)
go

/*==============================================================*/
/* Index: IDX_POPRDATA_ORGID                                    */
/*==============================================================*/
CREATE INDEX IDX_POPRDATA_ORGID ON POPR_DATA (
ORGANIZATIONID ASC
)
go

/*==============================================================*/
/* Index: IDX_POPRDATA_PROID                                    */
/*==============================================================*/
CREATE INDEX IDX_POPRDATA_PROID ON POPR_DATA (
PRODUCTID ASC
)
go

/*==============================================================*/
/* Index: IDX_POPRDATA_RPERIOD                                  */
/*==============================================================*/
CREATE INDEX IDX_POPRDATA_RPERIOD ON POPR_DATA (
RECEIVING_PERIOD ASC
)
go
